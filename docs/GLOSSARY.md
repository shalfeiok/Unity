# Глоссарий (единая терминология проекта)

Этот документ — **источник истины** для терминов. Любые новые термины добавлять сюда.

## Базовые сущности
- **Tag / Тег** — идентификатор смысла/категории (пример: `Element.Fire`, `Delivery.Projectile`, `Status.Burn`, `Weapon.Sword`).
- **TagSet** — множество тегов с быстрыми операциями `Contains/Union/Intersect` (в рантайме — без аллокаций).
- **Stat / Стат** — числовой параметр (урон, HP, крит, скорость каста, резисты и т.д.).
- **Modifier / Модификатор** — правило, меняющее стат:
  - `AddFlat` (прибавить число),
  - `AddPercent` (прибавить % к базе/сумме — строго определено),
  - `Multiply` (умножить),
  - `Override` (перезаписать).
- **Bucket / Бакет** — "ведро" суммирования модов: additive vs multiplicative; предотвращает взрыв мультипликаторов.
- **Soft Cap / Мягкий кап** — diminishing returns; статы уходят в асимптоту, вместо бесконечного роста.
- **Resource** — HP/MP/(опционально) Stamina; с регеном, лимитами, источниками изменений.
- **DamagePacket** — структурированное событие урона: база, элемент, crit-данные, источники, теги, ограничения.
- **DamageResolver** — компонент домена, который превращает DamagePacket + контекст (статы/резисты) в результат.

## Предметы и лут
- **ItemArchetype** — базовый тип предмета (меч/посох/броня), задаёт слоты, базовые статы, визуальный placeholder.
- **Rarity / Редкость** — уровни (Common → Legendary), определяют бюджеты и пул аффиксов.
- **Affix** — модификатор на предмете (prefix/suffix), добавляет стат-моды и/или mutators.
- **Aspect / Legendary Power** — уникальная "сила", меняющая механику (обычно через AbilityMutator или CombatProc).
- **Item Power Budget** — ограничение силы предмета, чтобы генератор не ломал баланс.
- **Deterministic Roll** — генерация предметов по seed так, чтобы результат повторялся.

## Умения и граф
- **AbilityDefinition** — data-описание умения (теги, кд, стоимость, граф).
- **AbilityInstance** — runtime-состояние умения (остаток кд, рассчитанные параметры).
- **AbilityGraph** — граф узлов: target query → delivery → damage → status → vfx.
- **Node / Узел** — элемент выполнения (Damage, ApplyStatus, Chain, Repeat, Conditional, SpawnProjectile...).
- **Execution Limits** — ограничения графа (макс узлов, целей, повторов, глубина рекурсии).
- **AbilityMutator** — правило, которое модифицирует умение/граф по TagSet (обычно от предметов/аффиксов).

## Миры
- **WorldDefinition** — описание мира (id, seed, biome ruleset, параметры спавна).
- **BiomeRuleset** — правила биома (пулы монстров/лута, элементальные усиления).
- **POI** — points of interest: лагеря/сундуки/мини-боссы/ивенты.
- **World Diff** — разница мира относительно seed (что убито/открыто/выполнено).

## Генерация и ограничения
- **Seed** — число для детерминированной генерации.
- **IRng** — интерфейс ГСЧ; все генераторы используют его, а не UnityEngine.Random.
- **Budget** — бюджеты Power/Complexity/VisualCost (для баланса и перфоманса).
- **Anti-exploit** — защита от бесконечных проков/рекурсий/циклов.

## Процесс
- **PROGRESS.md** — журнал задач и проверок.
- **Smoke tests** — ручные проверки, которые выполняются перед каждым “merge/release”.
